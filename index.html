<!DOCTYPE html>
<html>

<head>
    <!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/vega@5.22.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.5.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.21.0"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/vega@6.2.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@6.4.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@7.0.2"></script>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>

    <style>
        .vis-container {
            width: 100%;
        }

        .vis-container-repeat-2 {
            width: 50%;
        }

        .vis-container-repeat-4 {
            width: 25%;
        }
        .bg-mesh-417 {
            background: url('/img/mesh-417.png') cover no-repeat;
        }
        .bg-linear {
            background: linear-gradient(45deg, #4d8b31 0%, #ff8427 100%);
        }
        .bg-black {
            background-color: #1e212b;
        }
        .bg-green {
            background-color: #4d8b31;
        }

        .text-theme-green {
            color: #4d8b31;
        }
        .text-theme-orange {
            color: #ff8427;
        }
        .text-theme-yellow {
            color: #ffc800;
        }
        .text-theme-blue {
            color: #336699;
        }
        .text-theme-black {
            color: #1e212b;
        }
    </style>
</head>

<body class="bg-body-tertiary">
    <main>
        <div class="container p-4 bg-white shadow-sm">

            <!-- 标题 -->
            <div class="row p-4 mx-4 card rounded bg-linear shadow-sm">
                <div class="col">
                    <h1 class="text-center text-white fw-bold">Australia Energy & Carbon Dioxide Emissions</h1>
                </div>
            </div>

            <!-- 介绍 -->
            <div class="row my-4 py-3 px-4 fw">
                <div class="col">
                    <p class="lead text-body-secondary">This data visualization aims to present the structure of clean energy and carbon dioxide emissions in Australia,
                    targeting the general public.</p>
                </div>
            </div>

            <!-- 可视化图表 散点图 -->
            <div class="row my-4 p-3">
                <div class="col-lg-6 mb-4">
                    <h3 class="mb-4">Energy Generation vs <span class="text-theme-orange">CO2 Emissions</span></h3>
                    <p class="text-secondary">
                    This scatter plot shows the correlation between the total energy generation (in GWh) and energy-related <span class="text-theme-orange">carbon dioxide</span>
                    emissions (in Mt) of each state. Each point represents a state and is labeled with its abbreviation.
                    </p>
                    <p class="text-secondary">
                        Although there is little data, some positive correlation can still be observed.
                        It is worth noting that <span class="text-body-emphasis fw-medium">Victoria's power generation is higher than that of Western Australia</span>, 
                        but due to a <span class="text-body-emphasis fw-medium">higher proportion of <span class="text-theme-green">clean energy</span>, its <span class="text-theme-orange">carbon dioxide</span> emissions are lower.</span>
                    </p>
                </div>
                <div class="col-lg-6 mb-4">
                    <div id="energy_scatter_plot" class="vis-container"></div>
                </div>
            </div>

            <!-- 可视化图表 地图 -->
            <div class="row my-4 p-3">
                <div class="col-lg-8">
                    <div class="col-12">
                        <div id="state_energy_rate_map_year" class="vis-container"></div>
                    </div>
                    <div class="col-12">
                        <div class="map-yeaar-slider text-center"></div>
                    </div>
                </div>
                <div class="col-lg-4 mb-4">
                    <h3 class="mb-4">Australia Become <span class="text-theme-green">Greener</span></h3>
                    <p class="text-secondary">
                        This map shows the changing trends of the proportion (%) of renewable energy generation in each state of Australia over
                        time.
                        Use the slider to select different years, and the map will be dynamically updated to reflect the proportion of renewable
                        energy generation in the selected year.
                    </p>
                    <p class="text-secondary">
                        As time changes, 
                        it can be clearly felt from the graph that Australia's clean energy has <span class="text-body-emphasis">developed rapidly over the past decade</span>.
                    </p>
                </div>
            </div>

            <!-- 细分能源结构 AUS -->
            <div class="row my-4 p-3">
                <div class="col-12 my-4 text-center mb-4">
                    <h2>Let's Explore The Energy Structure of Australia</h2>
                    <p class="text-body-secondary">Australia's State Energy Structure Breakdown Gourp By 
                        <span class="fw-bolder text-theme-green">Renewable</span>,
                        <span class="fw-bolder text-theme-blue">Hydro</span> 
                        And 
                        <span class="fw-bolder text-theme-orange">Non-Renewable Energy</span>
                        (Note: Data Missing from 2000-2010)
                    </p>
                </div>
                <div class="col-12 mb-4">
                    <div id="aus_stacked_area_chart" class="vis-container"></div>
                </div>
            </div>

            <!-- 州能源细分 -->
            <div class="row my-4 p-3">
                <div class="col-12 text-center mb-4">
                    <h2>More Close To State</h2>
                    <p class="fw-light">Australia's State Energy Structure Breakdown</p>
                </div>
                <div class="col-12 mb-4">
                    <div id="state_stack_repeat" class="vis-container-repeat-4"></div>
                </div>
            </div>

            <!-- 回到二氧化碳 -->
            <div class="row my-4 p-3">
                <div class="col-12 my-4 p-3 text-center">
                    <h2>Back To <span class="text-theme-orange">CO2 Emissions</span></h2>
                </div>

                <!-- 寻找二氧化碳和能源的关系 -->
                <div class="col-lg-4 p-3 my-4">
                    <h3 class="mb-4">Finding the Relationship between <span class="text-theme-orange">CO2 Emissions</span> and Energy</h3>
                    <p class="text-secondary">
                        This parallel coordinate plot shows the relationship between different energy sources and <span class="text-theme-orange">carbon dioxide</span> emissions.
                        Each axis represents an <span class="text-body-emphasis fw-medium">non-renewable energy</span>, and the lines connect the data points for each state.
                    </p>
                    <p>
                        看起来, 最主要的碳排放是Brown Coal和Black Coal.
                    </p>
                </div>
                <div class="col-lg-8 p-3 my-4">
                    <div id="energy_parallel_coordinate_plot_v2" class="vis-container"></div>
                </div>

                <!-- 二氧化碳排放细分 -->
                <div class="col-lg-8 p-3 my-4">
                   <div id="co2_emission_detail" class="vis-container"></div>
                </div>
                <div class="col-lg-4 p-3 my-4">
                    <h3>二氧化碳排放细分</h3>
                    <p class="text-muted">这个堆积面积图展示了澳大利亚各州二氧化碳排放量的细分情况。</p>
                </div>
            </div>

            <!-- footer -->
            <footer class="text-center row pt-5 my-2 border-top">
                <p>
                    Author: Yijiang Luo
                </p>
                <p>
                    Data Source:
                    <a href="https://www.energy.gov.au/publications/australian-energy-update-2025" target="_blank">Australian
                        Energy Data (Table O)</a>,
                    <a href="https://ageis.climatechange.gov.au/"
                        target="_blank">Australia's National Greenhouse Accounts</a>
                </p>
                <p>
                    Github Repository: <a href="https://github.com/monash-yluo/3179-a2-australia-green-energy" target="_blank">3179-a2-australia-green-energy</a>
                </p>
                <p>
                    Create Time: 2025-09-28
                </p>
                <p>
                    Last Update Date: <span id="lastUpdateDate">2025-09-30</span>
                </p>
            </footer>
        </div>
    </main>

    <script>
        // 获取GitHub最后提交时间
        fetch('https://api.github.com/repos/monash-yluo/3179-a2-australia-green-energy/commits?per_page=1')
            .then(response => response.json())
            .then(commits => {
                const lastCommitDate = new Date(commits[0].commit.committer.date);
                document.getElementById('lastUpdateDate').textContent =
                    lastCommitDate.toISOString().split('T')[0] + ' ' +
                    lastCommitDate.toLocaleTimeString();
            })
            .catch(error => console.error('Error fetching commit data:', error));
    </script>

    <script type="text/javascript">

        var state_energy_co2_scatter_plot = "js/state_energy_co2_scatter_plot.vg.json";
        vegaEmbed('#energy_scatter_plot', state_energy_co2_scatter_plot).then(function (result) {
            // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
        }).catch(console.error);

        var state_energy_rate_map_year = "js/state_energy_rate_map_year.vg.json";
        vegaEmbed('#state_energy_rate_map_year', state_energy_rate_map_year).then(function (result) {

        }).catch(console.error);

        var aus_stacked_area_chart = "js/aus_stacked_area_chart.vg.json";
        vegaEmbed('#aus_stacked_area_chart', aus_stacked_area_chart).then(function
            (result) {

        }).catch(console.error);

        var state_stack_repeat = "js/state_stack_repeat.vg.json";
        vegaEmbed('#state_stack_repeat', state_stack_repeat).then(function (result) {

        }).catch(console.error);

        var energy_parallel_coordinate_plot_v2 = "js/energy_parallel_coordinate_plot_v2.vg.json";
        vegaEmbed('#energy_parallel_coordinate_plot_v2', energy_parallel_coordinate_plot_v2).then(function (result) {

        }).catch(console.error);

        var co2_emission_detail = "js/co2_emission_detail.vg.json";
        vegaEmbed('#co2_emission_detail', co2_emission_detail).then(function (result) {

        }).catch(console.error);
    </script>

</body>

</html>